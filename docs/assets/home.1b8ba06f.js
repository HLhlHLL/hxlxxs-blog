import{A as f}from"./index.2718197b.js";import{P as v}from"./index.8592fcbc.js";import{u as P}from"./articles.efae0f2b.js";import{d as A,r as l,a as h,o as k,b as s,c,F as z,e as b,f as u,g as w,i as B}from"./index.daa6cca7.js";import"./md-editor-v3.es.b94cfe84.js";const C={class:"article-list animate__animated animate__fadeIn"},S=A({__name:"home",setup(L){const m=B("global"),r=l([]);let t;const e=h({total:0,size:5,range:3,currentPage:1}),o=l(!0),g=P(),d=a=>{e.currentPage=a,a===1?r.value=t.slice(0,e.size):r.value=t.slice((e.currentPage-1)*e.size+1,e.currentPage*e.size+1)},p=async()=>{const{data:a}=await m.$http.get("/api/1.1/classes/articles");t=a.results.sort((i,n)=>new Date(n.createdAt).getTime()-new Date(i.createdAt).getTime()),r.value=t.slice(0,e.size),e.total=t.length,g.setArticleList(t),o.value=!1};return k(()=>{p()}),(a,i)=>(s(),c("div",C,[(s(!0),c(z,null,b(r.value,(n,_)=>(s(),u(f,{overview:"",loading:o.value,article:n,key:n.aid,index:_},null,8,["loading","article","index"]))),128)),e.total>5?(s(),u(v,{key:0,"button-color":"#222",pagination:e,onGetCurrentPage:d},null,8,["pagination"])):w("",!0)]))}});export{S as default};
