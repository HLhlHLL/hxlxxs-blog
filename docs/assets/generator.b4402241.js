let u;const U=new Uint8Array(16);function h(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(U)}const o=[];for(let n=0;n<256;++n)o.push((n+256).toString(16).slice(1));function x(n,t=0){return(o[n[t+0]]+o[n[t+1]]+o[n[t+2]]+o[n[t+3]]+"-"+o[n[t+4]]+o[n[t+5]]+"-"+o[n[t+6]]+o[n[t+7]]+"-"+o[n[t+8]]+o[n[t+9]]+"-"+o[n[t+10]]+o[n[t+11]]+o[n[t+12]]+o[n[t+13]]+o[n[t+14]]+o[n[t+15]]).toLowerCase()}const g=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:g};function p(n,t,i){if(y.randomUUID&&!t&&!n)return y.randomUUID();n=n||{};const e=n.random||(n.rng||h)();if(e[6]=e[6]&15|64,e[8]=e[8]&63|128,t){i=i||0;for(let c=0;c<16;++c)t[i+c]=e[c];return t}return x(e)}const w=(n,t,i,e,c)=>{c=c.filter(m=>!m.isExist);let d={};e.length===1?d=e[0]:e.length===2&&(d=e[1]),e=e.filter(m=>!m.isExist);const r={visitedTimes:0,wordCount:i.length,costTime:Math.floor(i.length/400)||1},s=[],l={aid:p(),title:n,abstract:t,tid:c.map(m=>m.tid),tags:c,cid:d.cid,category:d,meta:r,comment:s},a=Object.assign({content:i},l);return{tags:c,categories:e,article:l,contentArticle:a}},D=(n,t,i,e,c)=>{const d={};return{aid:n,uid:c,comid:p(),pid:i,content:t,userName:e||"anonymous",subComments:[],createdAt:new Date().toISOString(),showSubComment:!1,to:d}};export{w as a,D as c,p as v};
